"use strict";!function(){Vue.component("keyboard",{template:'<aside class="vue-keyboard" role="application" :class="{ full: full, empty: empty }" :data-value="value" :data-layout="layout">\n\t\t\t<div role="row" class="row" v-for="row in buttons" :data-keys="row.length">\n\t\t\t\t<button\n\t\t\t\t\tv-for="btn in row"\n\t\t\t\t\trole="button"\n\t\t\t\t\t:class="btn.type"\n\t\t\t\t\t:data-args="btn.args"\n\t\t\t\t\t:data-text="btn.value"\n\t\t\t\t\t:data-action="btn.action.name"\n\t\t\t\t\t@click.prevent="btn.action.callable"\n\t\t\t\t>{{ btn.value }}</button>\n\t\t\t</div>\n\t\t</aside>',props:{value:{type:String,"default":""},layouts:{type:[String,Array],required:!0},maxlength:{type:Number,"default":0,validator:function(t){return t>=0}}},data:function(){return{layout:0}},computed:{full:function(){return this.value.length>=this.maxlength},empty:function(){return 0===this.value.length},buttons:function(){var t=this,a=(Array.isArray(this.layouts)?this.layouts:[this.layouts])[this.layout].split("|");return a.map(function(a){var n=a.split(""),e=[],l=null;return n.forEach(function(a){if("{"===a)l="";else if("}"===a){var n=l.split(":"),i=n.length>1?n[0]:"",u=n.length>1?n[1]:n[0],o=n.length>2?n[2]:null,s=null;s=["append","backspace","space","clear","goto"].indexOf(u)>=0?t[u].bind(t,o):t.$emit.bind(t,u,t),e.push({type:"action",action:{name:u.replace(/\s+/g,"-").toLowerCase(),callable:s},value:i,args:o}),l=null}else null!==l?l+=a:e.push({type:"char",action:{name:null,callable:t.append.bind(t,a)},value:a,args:null})}),e})}},methods:{mutate:function(t){this.maxlength>0&&(t=t.slice(0,this.maxlength)),this.$emit("input",t)},append:function(t){this.mutate(this.value+t)},backspace:function(){this.mutate(this.value.slice(0,this.value.length-1))},space:function(){this.append(" ")},"goto":function(t){if(!Array.isArray(this.layouts))throw new Error("A single non-array layout was provided.");if(!(t>=0&&t<this.layouts.length))throw new Error("The requested layout does not exist.");this.layout=t},clear:function(){this.mutate("")}}})}();