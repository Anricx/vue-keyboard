"use strict";!function(){Vue.component("keyboard",{template:'<aside class="vue-keyboard" role="application" :class="{ full: full, empty: empty }" :data-value="value" :data-layout="layout">\n\t\t\t<div role="row" class="row" v-for="row in buttons" :data-keys="row.length">\n\t\t\t\t<button role="button" v-for="btn in row" :class="btn.class" @click="btn.action" :data-args="btn.args" :data-char="btn.value">{{ btn.value }}</button>\n\t\t\t</div>\n\t\t</aside>',props:{layouts:{type:Array,required:!0},maxlength:{type:Number,"default":0,validator:function(t){return t>=0}}},data:function(){return{value:"",layout:0}},computed:{full:function(){return this.value.length>=this.maxlength},empty:function(){return 0===this.value.length},buttons:function(){var t=this,a=this.layouts[this.layout].split("|");return a.map(function(a){var e=a.split(""),n=[],l=null;return e.forEach(function(a){if("{"===a)l="";else if("}"===a){var e=l.split(":"),u=e.length>1?e[0]:"",s=e.length>1?e[1]:e[0],i=e.length>2?e[2]:null,o=null;o=["append","backspace","space","clear","goto"].indexOf(s)>=0?t[s].bind(t,i):t.$emit.bind(t,s,t),n.push({"class":"action action-"+s.replace(/\s+/g,"-").toLowerCase(),action:o,value:u,args:i}),l=null}else null!==l?l+=a:n.push({"class":"char",action:t.append.bind(t,a),value:a,args:null})}),n})}},methods:{mutate:function(t){this.value=t,this.maxlength>0&&(this.value=this.value.slice(0,this.maxlength)),this.$emit("input",this.value)},append:function(t){this.mutate(this.value+t)},backspace:function(){this.mutate(this.value.slice(0,this.value.length-1))},space:function(){this.append(" ")},"goto":function(t){if(!(t>=0&&t<this.layouts.length))throw new Error("The requested layout does not exist.");this.layout=t},clear:function(){this.mutate("")}}})}();