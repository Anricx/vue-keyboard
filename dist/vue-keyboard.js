"use strict";!function(){Vue.component("keyboard",{template:'<aside class="vue-keyboard" role="application" :class="{ full: full, empty: empty }" :data-value="value" :data-layout="layout">\n\t\t\t<div role="row" class="row" v-for="row in buttons" :data-keys="row.length">\n\t\t\t\t<button\n\t\t\t\t\tv-for="btn in row"\n\t\t\t\t\trole="button"\n\t\t\t\t\t:class="btn.type"\n\t\t\t\t\t:data-args="btn.args"\n\t\t\t\t\t:data-text="btn.value"\n\t\t\t\t\t:data-action="btn.action.name"\n\t\t\t\t\t@click.prevent="btn.action.callable"\n\t\t\t\t>{{ btn.value }}</button>\n\t\t\t</div>\n\t\t</aside>',props:{layouts:{type:Array,required:!0},maxlength:{type:Number,"default":0,validator:function(t){return t>=0}}},data:function(){return{value:"",layout:0}},computed:{full:function(){return this.value.length>=this.maxlength},empty:function(){return 0===this.value.length},buttons:function(){var t=this,e=this.layouts[this.layout].split("|");return e.map(function(e){var n=e.split(""),a=[],l=null;return n.forEach(function(e){if("{"===e)l="";else if("}"===e){var n=l.split(":"),u=n.length>1?n[0]:"",i=n.length>1?n[1]:n[0],o=n.length>2?n[2]:null,s=null;s=["append","backspace","space","clear","goto"].indexOf(i)>=0?t[i].bind(t,o):t.$emit.bind(t,i,t),a.push({type:"action",action:{name:i.replace(/\s+/g,"-").toLowerCase(),callable:s},value:u,args:o}),l=null}else null!==l?l+=e:a.push({type:"char",action:{name:null,callable:t.append.bind(t,e)},value:e,args:null})}),a})}},methods:{mutate:function(t){this.value=t,this.maxlength>0&&(this.value=this.value.slice(0,this.maxlength)),this.$emit("input",this.value)},append:function(t){this.mutate(this.value+t)},backspace:function(){this.mutate(this.value.slice(0,this.value.length-1))},space:function(){this.append(" ")},"goto":function(t){if(!(t>=0&&t<this.layouts.length))throw new Error("The requested layout does not exist.");this.layout=t},clear:function(){this.mutate("")}}})}();